{"title":"Chrome Devtools æ—¥å¸¸ä½¿ç”¨","date":"2024-12-22T11:57:32.000Z","date_formatted":{"ll":"2024å¹´12æœˆ22æ—¥","L":"2024/12/22","MM-DD":"12-22"},"thumbnail":"post/chrome/thumbnail.jpg","color":"#2f76d7","link":"post/chrome","comments":true,"tags":["Chrome"],"categories":["æ•™ç¨‹"],"updated":"2024-12-22T11:58:19.492Z","content":"<h2 id=\"chrome-devtools-çš„ç”¨å¤„\">Chrome Devtools çš„ç”¨å¤„<a title=\"#chrome-devtools-çš„ç”¨å¤„\" href=\"#chrome-devtools-çš„ç”¨å¤„\"></a></h2>\n<ul>\n<li>å‰ç«¯å¼€å‘ï¼šå¼€å‘é¢„è§ˆã€è¿œç¨‹è°ƒè¯•ã€æ€§èƒ½è°ƒä¼˜ã€<code>bug</code>è·Ÿè¸ªã€æ–­ç‚¹è°ƒè¯•ç­‰</li>\n<li>å‰ç«¯å¼€å‘ï¼šå¼€å‘é¢„è§ˆã€è¿œç¨‹è°ƒè¯•ã€æ€§èƒ½è°ƒä¼˜ã€bugè·Ÿè¸ªã€æ–­ç‚¹è°ƒè¯•ç­‰</li>\n<li>åç«¯å¼€å‘ï¼šç½‘ç»œæŠ“åŒ…ã€å¼€å‘è°ƒè¯•Response</li>\n<li>æµ‹è¯•ï¼šæœåŠ¡ç«¯<code>API</code>æ•°æ®æ˜¯å¦æ­£ç¡®ã€å®¡æŸ¥é¡µé¢å…ƒç´ æ ·å¼åŠå¸ƒå±€ã€é¡µé¢åŠ è½½æ€§èƒ½åˆ†æã€è‡ªåŠ¨åŒ–æµ‹è¯•</li>\n<li>å…¶ä»–ï¼šå®‰è£…æ‰©å±•æ’ä»¶ï¼Œå¦‚<code>AdBlockã€Gliffyã€Axure</code>ç­‰</li>\n</ul>\n<h2 id=\"èœå•é¢æ¿æ‹†è§£\">èœå•é¢æ¿æ‹†è§£<a title=\"#èœå•é¢æ¿æ‹†è§£\" href=\"#èœå•é¢æ¿æ‹†è§£\"></a></h2>\n<ul>\n<li><code>Elements</code> - é¡µé¢domå…ƒç´ </li>\n<li><code>Console</code> - æ§åˆ¶å°</li>\n<li><code>Sources</code> - é¡µé¢é™æ€èµ„æº</li>\n<li><code>Network</code> - ç½‘ç»œ</li>\n<li><code>Performance</code> - è®¾å¤‡åŠ è½½æ€§èƒ½åˆ†æ</li>\n<li><code>Application</code> - åº”ç”¨ä¿¡æ¯ï¼ŒPWA/Storage/Cache/Frames</li>\n<li><code>Security</code> - å®‰å…¨åˆ†æ</li>\n<li><code>Audits</code> - å®¡è®¡ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·</li>\n</ul>\n<p>æˆ‘çš„ç§»åŠ¨ç«¯ç½‘é¡µ<a href=\"https://jinx66.gitee.io/\" target=\"_blank\">jinx66</a></p>\n<p><img src=\"post/chrome/ebded4d78c50b3b3244d0c9c4586891.png\" alt=\"å›¾ç‰‡å˜ç°è‰²ç‚¹ä¸€ä¸‹ä¹Ÿèƒ½çœ‹..\" loading=\"lazy\" class=\"Ï†bp\"></p>\n<h2 id=\"ä½¿ç”¨æŠ€å·§\">ä½¿ç”¨æŠ€å·§<a title=\"#ä½¿ç”¨æŠ€å·§\" href=\"#ä½¿ç”¨æŠ€å·§\"></a></h2>\n<ul>\n<li>æ‰“å°å¯¹è±¡çš„å°æŠ€å·§</li>\n</ul>\n<p>ä¹‹å‰çš„æ‰“å°æ˜¯</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;hello&#x27;</span>, hello);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;world&#x27;</span>, world);</span><br></pre></td></tr></table></figure>\n<p>é«˜çº§ç‚¹çš„æ‰“å°æ˜¯</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(&#123;hello, world&#125;);</span><br></pre></td></tr></table></figure>\n<p>è¿™æ ·å°±çœ‹åˆ°keyå’Œvalueäº†</p>\n<ul>\n<li><code>getEventListenersï¼ˆobjectï¼‰</code>ï¼šè·å–æŒ‡å®šå¯¹è±¡çš„ç»‘å®šäº‹ä»¶</li>\n</ul>\n<p><code>getEventListeners(object)</code>è¿”å›åœ¨æŒ‡å®šå¯¹è±¡ä¸Šæ³¨å†Œçš„äº‹ä»¶ä¾¦å¬å™¨ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ªå·²æ³¨å†Œäº‹ä»¶ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œ<code>click</code>æˆ–<code>keydown</code>ï¼‰çš„æ•°ç»„ã€‚æ¯ä¸ªæ•°ç»„çš„æˆå‘˜æ˜¯æè¿°ä¸ºæ¯ç§ç±»å‹æ³¨å†Œçš„ä¾¦å¬å™¨çš„å¯¹è±¡ã€‚</p>\n<ul>\n<li>å˜é‡æ‰“å°ï¼š<code>%sã€%oã€%dã€</code>å’Œ<code>%c</code></li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> text = <span class=\"string\">&quot;æ–‡æœ¬1&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`æ‰“å°<span class=\"subst\">$&#123;text&#125;</span>`</span>)</span><br></pre></td></tr></table></figure>\n<p>è¿˜æœ‰æ¯”è¾ƒç‰¹æ®Šçš„<code>%c</code>ï¼Œå¯ç”¨äºæ”¹å†™è¾“å‡ºæ ·å¼ã€‚<br>\nè¿™æ˜¯æˆ‘ç½‘ç«™console.logæ‰“å°çš„ï¼Œf12å¯ä»¥çœ‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(</span><br><span class=\"line\">  <span class=\"string\">&quot;%c Jinxå¤©å¤©å¼€å¿ƒå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ %c https://jinx66.gitee.io/&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;color:#fff;font-size: 14px;font-family: serif;background:linear-gradient(90deg,#ff4d91,#ff4d91);padding:15px 10px;&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;color:#000;background:linear-gradient(90deg,#ff4d91,#ffffff);padding:15px 10px;font-size: 14px;font-family: serif;&quot;</span></span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<p>ä½ è¿˜å¯ä»¥è¿™ä¹ˆç©ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;%c Auth &#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;color: white; background-color: #2274A5&#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;Login page rendered&#x27;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;%c GraphQL &#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;color: white; background-color: #95B46A&#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;Get user details&#x27;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;%c Error &#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;color: white; background-color: #D33F49&#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;Error getting user details&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;%c æƒ³ &#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;color: white; background-color: #ff4d91&#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;miss&#x27;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;%c ä½  &#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;color: white; background-color: #ff4d91&#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;you&#x27;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;%c äº† &#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;color: white; background-color: #ff9dc2&#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;ï¼ï¼ï¼ï¼&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<p><img src=\"post/chrome/424080ffebe1dac8d0bbef558077605.png\" alt=\"å›¾ç‰‡å˜ç°è‰²ç‚¹ä¸€ä¸‹ä¹Ÿèƒ½çœ‹..\" loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>åé¢çš„æœ‰ç©ºçš„è¯ä¼šæ›´æ–°â€¦</p>\n<p><code> 2024å¹´1æœˆ29æ—¥æ›´</code></p>\n<p><code> ===============================================================================================</code></p>\n<p>ä¸€å¹´æ²¡æ›´â€¦æœ€è¿‘é¡¹ç›®ä¸­ç”¨åˆ°äº†console.logæ‰æƒ³èµ·è¿™ç¯‡æ–‡ç« ï¼Œå°æ›´ä¸€ä¸‹</p>\n<h2 id=\"èµ·å› \">èµ·å› <a title=\"#èµ·å› \" href=\"#èµ·å› \"></a></h2>\n<p>å› ä¸ºæˆ‘ä»¬å‰ç«¯ä¸€èˆ¬æ˜¯æ‰“åŒ…å‰ç«¯é¡¹ç›®ç»™åç«¯ï¼Œè®©åç«¯å¸®å¿™å‘åŒ…ï¼Œä¸æ˜¯ç”¨jekinsè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œå¾€å¾€äººä¸ºæ“ä½œä¼šå¯¼è‡´æ‰“åŒ…å‘½ä»¤æ‰“é”™æˆ–è€…æ˜¯å‘åŒ…çš„æ—¶å€™æ²¡æœ‰æ‰¾åˆ°æ­£ç¡®ç›®å½•ï¼Œå°±ä¼šå‡ºç°å‰åç«¯äº’ç›¸ç”©é”…çš„æƒ…å†µï¼Œå‰ç«¯è¯´åç«¯è§£å‹æœ‰é—®é¢˜ï¼Œåç«¯è¯´å‰ç«¯æ‰“çš„åŒ…æœ‰é—®é¢˜ï¼Œäºæ˜¯æˆ‘å°±åœ¨æ¯æ¬¡æ‰“åŒ…çš„æ—¶å€™æ·»åŠ console.logä¿¡æ¯ä»¥ä¾¿äºç¡®è®¤é¡µé¢æ˜¯å¦æ›´æ–°æˆåŠŸã€‚åœ¨ Vue 2 é¡¹ç›®ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ Webpack çš„é…ç½®ï¼Œåœ¨æ‰“åŒ…æ—¶å°†æ‰“åŒ…ä¿¡æ¯ï¼ˆå¦‚æ—¶é—´æˆ³æˆ– Git æäº¤å“ˆå¸Œï¼‰åµŒå…¥åˆ°æ–‡ä»¶ä¸­ã€‚è¿™ç§æ–¹å¼å¯ä»¥ç”¨æ¥è¿½è¸ªç‰ˆæœ¬å˜åŒ–ã€‚</p>\n<h2 id=\"é…ç½®æ–‡ä»¶\">é…ç½®æ–‡ä»¶<a title=\"#é…ç½®æ–‡ä»¶\" href=\"#é…ç½®æ–‡ä»¶\"></a></h2>\n<ul>\n<li>åœ¨ <code>vue.config.js</code> ä¸­æ·»åŠ æ‰“åŒ…ä¿¡æ¯<br>\nå¦‚æœä½ çš„é¡¹ç›®ä½¿ç”¨ <code>Vue CLI</code>ï¼Œå¯ä»¥åœ¨ <code>vue.config.js </code>ä¸­æ‰©å±• Webpack é…ç½®ï¼š</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> dayjs = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;dayjs&#x27;</span>); <span class=\"comment\">// ç”¨äºæ ¼å¼åŒ–æ—¥æœŸ</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> childProcess = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;child_process&#x27;</span>); <span class=\"comment\">// è·å–Gitä¿¡æ¯</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// è·å–Gitå“ˆå¸Œå€¼</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> gitHash = childProcess.<span class=\"title function_\">execSync</span>(<span class=\"string\">&#x27;git rev-parse --short HEAD&#x27;</span>).<span class=\"title function_\">toString</span>().<span class=\"title function_\">trim</span>();</span><br><span class=\"line\">    <span class=\"comment\">// æ‰“åŒ…æ—¶é—´</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> buildTime = <span class=\"title function_\">dayjs</span>().<span class=\"title function_\">format</span>(<span class=\"string\">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">        <span class=\"keyword\">new</span> webpack.<span class=\"title class_\">DefinePlugin</span>(&#123;</span><br><span class=\"line\">          <span class=\"comment\">// å®šä¹‰å…¨å±€å˜é‡</span></span><br><span class=\"line\">          <span class=\"string\">&#x27;process.env&#x27;</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">VUE_APP_BUILD_TIME</span>: <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(buildTime),</span><br><span class=\"line\">            <span class=\"attr\">VUE_APP_GIT_HASH</span>: <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(gitHash),</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">      ],</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>åœ¨ä»£ç ä¸­ä½¿ç”¨æ‰“åŒ…ä¿¡æ¯</li>\n</ul>\n<p>æˆ‘æ˜¯åŠ åœ¨äº†<code>app.vue</code>æ–‡ä»¶ä¸Š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    // è¿™é‡Œçœç•¥æ‰app.vueçš„å†…å®¹</span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"comment\">&lt;!-- &lt;p&gt;æ‰“åŒ…æ—¶é—´ï¼š&#123;&#123; buildTime &#125;&#125;&lt;/p&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-xml\">    &lt;p&gt;Gitå“ˆå¸Œå€¼ï¼š&#123;&#123; gitHash &#125;&#125;&lt;/p&gt; --&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">buildTime</span>: process.<span class=\"property\">env</span>.<span class=\"property\">VUE_APP_BUILD_TIME</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">gitHash</span>: process.<span class=\"property\">env</span>.<span class=\"property\">VUE_APP_GIT_HASH</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">`%c <span class=\"subst\">$&#123;æ‰“åŒ…æ—¥æœŸ:&#125;</span> %c <span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.buildTime&#125;</span> `</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;padding: 2px 1px; border-radius: 3px 0 0 3px; color: #fff; background: #606060; font-weight: bold;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;padding: 2px 1px; border-radius: 0 3px 3px 0; color: #fff; background: #42c02e; font-weight: bold;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      )</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<h2 id=\"æ‰“å°ç»“æœ\">æ‰“å°ç»“æœ<a title=\"#æ‰“å°ç»“æœ\" href=\"#æ‰“å°ç»“æœ\"></a></h2>\n<ul>\n<li>è¿™æ˜¯æˆ‘é¡¹ç›®ä¸­çš„æ‰“å°ç»“æœï¼Œæˆ‘å»æ‰äº†å“ˆå¸Œå€¼çš„æ‰“å°</li>\n</ul>\n<p><img src=\"post/chrome/ee4b413660d4c6f905737781fd12d0c.png\" alt=\"å›¾ç‰‡å˜ç°è‰²ç‚¹ä¸€ä¸‹ä¹Ÿèƒ½çœ‹..\" loading=\"lazy\" class=\"Ï†bp\"></p>\n<p>ä¹Ÿå¯ä»¥åŠ å…¥ç‰ˆæœ¬å·ï¼Œè‡³äºä»€ä¹ˆæ—¶å€™éœ€è¦æ·»åŠ ç‰ˆæœ¬å·å‘¢ï¼Œå½“ä¸‹é¢è¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨</p>\n<h2 id=\"åœ¨ç”¨æˆ·æµè§ˆé¡µé¢æ—¶æ£€æµ‹åˆ°é¡µé¢å·²ç»æœ‰æ–°çš„ç‰ˆæœ¬ï¼Œå¹¶æç¤ºç”¨æˆ·åˆ·æ–°è·å–æœ€æ–°é¡µé¢\">åœ¨ç”¨æˆ·æµè§ˆé¡µé¢æ—¶æ£€æµ‹åˆ°é¡µé¢å·²ç»æœ‰æ–°çš„ç‰ˆæœ¬ï¼Œå¹¶æç¤ºç”¨æˆ·åˆ·æ–°è·å–æœ€æ–°é¡µé¢<a title=\"#åœ¨ç”¨æˆ·æµè§ˆé¡µé¢æ—¶æ£€æµ‹åˆ°é¡µé¢å·²ç»æœ‰æ–°çš„ç‰ˆæœ¬ï¼Œå¹¶æç¤ºç”¨æˆ·åˆ·æ–°è·å–æœ€æ–°é¡µé¢\" href=\"#åœ¨ç”¨æˆ·æµè§ˆé¡µé¢æ—¶æ£€æµ‹åˆ°é¡µé¢å·²ç»æœ‰æ–°çš„ç‰ˆæœ¬ï¼Œå¹¶æç¤ºç”¨æˆ·åˆ·æ–°è·å–æœ€æ–°é¡µé¢\"></a></h2>\n<ul>\n<li>ä¿®æ”¹ vue.config.js</li>\n</ul>\n<p>åœ¨ <code>vue.config.js</code> ä¸­ï¼Œåˆ©ç”¨ Node.js å†™å…¥ä¸€ä¸ªæ–°çš„ <code>version.json</code> æ–‡ä»¶ï¼Œæ¯æ¬¡æ‰“åŒ…æ—¶åŠ¨æ€æ›´æ–°æ–‡ä»¶å†…å®¹ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;fs&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> dayjs = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;dayjs&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> gitHash = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;child_process&#x27;</span>).<span class=\"title function_\">execSync</span>(<span class=\"string\">&#x27;git rev-parse --short HEAD&#x27;</span>).<span class=\"title function_\">toString</span>().<span class=\"title function_\">trim</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> buildTime = <span class=\"title function_\">dayjs</span>().<span class=\"title function_\">format</span>(<span class=\"string\">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç”Ÿæˆ version.json æ–‡ä»¶</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> versionInfo = &#123;</span><br><span class=\"line\">  buildTime,</span><br><span class=\"line\">  gitHash,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">fs.<span class=\"title function_\">writeFileSync</span>(</span><br><span class=\"line\">  path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&#x27;public/version.json&#x27;</span>),</span><br><span class=\"line\">  <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(versionInfo, <span class=\"literal\">null</span>, <span class=\"number\">2</span>),</span><br><span class=\"line\">  <span class=\"string\">&#x27;utf-8&#x27;</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">publicPath</span>: process.<span class=\"property\">env</span>.<span class=\"property\">VUE_APP_URL_PREPEND</span>,</span><br><span class=\"line\">  <span class=\"comment\">// å…¶ä»–é…ç½®...</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>è‡ªåŠ¨ç”Ÿæˆçš„ version.json æ–‡ä»¶å†…å®¹</li>\n</ul>\n<p>æ¯æ¬¡è¿è¡Œ <code>npm run build </code>æ—¶ï¼Œä¼šç”Ÿæˆæˆ–æ›´æ–°<code> public/version.json</code> æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"> &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;buildTime&quot;</span>: <span class=\"string\">&quot;2024-12-22 14:30:00&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;gitHash&quot;</span>: <span class=\"string\">&quot;a1b2c3d&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>å‰ç«¯æ£€æµ‹é€»è¾‘<br>\nåœ¨å‰ç«¯ä»£ç ä¸­ä¿æŒå®šæ—¶æ£€æŸ¥ version.json æ–‡ä»¶çš„é€»è¾‘ä¸å˜ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">setInterval</span>(<span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> response = <span class=\"keyword\">await</span> <span class=\"title function_\">fetch</span>(<span class=\"string\">&#x27;/version.json&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> latestVersion = <span class=\"keyword\">await</span> response.<span class=\"title function_\">json</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> storedVersion = <span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(<span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;appVersion&#x27;</span>) || <span class=\"string\">&#x27;&#123;&#125;&#x27;</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (latestVersion.<span class=\"property\">gitHash</span> !== storedVersion.<span class=\"property\">gitHash</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">$message</span>.<span class=\"title function_\">warning</span>(<span class=\"string\">&#x27;æœ‰æ–°ç‰ˆæœ¬å‘å¸ƒï¼Œè¯·åˆ·æ–°é¡µé¢ï¼&#x27;</span>)</span><br><span class=\"line\">      <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;appVersion&#x27;</span>, <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(latestVersion));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&#x27;ç‰ˆæœ¬æ£€æµ‹å¤±è´¥:&#x27;</span>, error);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;, <span class=\"number\">60000</span>); <span class=\"comment\">// æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"ä¼˜åŠ¿\">ä¼˜åŠ¿<a title=\"#ä¼˜åŠ¿\" href=\"#ä¼˜åŠ¿\"></a></h2>\n<ul>\n<li>å…¨è‡ªåŠ¨åŒ–ï¼šæ— éœ€æ‰‹åŠ¨ä¿®æ”¹ version.jsonï¼Œç‰ˆæœ¬ä¿¡æ¯åœ¨æ‰“åŒ…æ—¶è‡ªåŠ¨ç”Ÿæˆã€‚</li>\n<li>çµæ´»æ‰©å±•ï¼šå¯ä»¥æ ¹æ®éœ€è¦åœ¨ version.json ä¸­æ·»åŠ æ›´å¤šä¿¡æ¯ï¼ˆå¦‚ versionName æˆ– branchNameï¼‰ã€‚</li>\n<li>ä½ç»´æŠ¤æˆæœ¬ï¼šé€šè¿‡æ‰“åŒ…æµç¨‹ç¡®ä¿æ–‡ä»¶å§‹ç»ˆæ›´æ–°ï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚</li>\n</ul>\n<h2 id=\"é€‚ç”¨åœºæ™¯\">é€‚ç”¨åœºæ™¯<a title=\"#é€‚ç”¨åœºæ™¯\" href=\"#é€‚ç”¨åœºæ™¯\"></a></h2>\n<ul>\n<li>é¢‘ç¹å‘å¸ƒï¼šé€‚åˆéœ€è¦é¢‘ç¹æ›´æ–°çš„é¡¹ç›®ï¼Œè‡ªåŠ¨åŒ–ç”Ÿæˆç‰ˆæœ¬ä¿¡æ¯ï¼Œå‡å°‘äººä¸ºæ“ä½œã€‚(æˆ‘çš„å…¬å¸å°±æ˜¯é¢‘ç¹å‘å¸ƒï¼ŒğŸ•çœ‹äº†éƒ½æ‘‡å¤´)</li>\n<li>å‰ç«¯ç‹¬ç«‹éƒ¨ç½²ï¼šå°¤å…¶é€‚ç”¨äºå‰ç«¯é€šè¿‡ CDN æˆ–é™æ€èµ„æºæœåŠ¡å™¨ç›´æ¥éƒ¨ç½²çš„åœºæ™¯ï¼Œèƒ½åŠæ—¶é€šçŸ¥ç”¨æˆ·åˆ·æ–°é¡µé¢è·å–æœ€æ–°å†…å®¹ã€‚</li>\n</ul>\n<h2 id=\"å·¥ä½œåŸç†\">å·¥ä½œåŸç†<a title=\"#å·¥ä½œåŸç†\" href=\"#å·¥ä½œåŸç†\"></a></h2>\n<ul>\n<li>æ‰“åŒ…è§¦å‘æœºåˆ¶ï¼švue.config.js ä¼šåœ¨è¿è¡Œ npm run build æ—¶è‡ªåŠ¨è¢«æ‰§è¡Œï¼Œè¿™æ˜¯ Vue CLI çš„é»˜è®¤è¡Œä¸ºã€‚</li>\n<li>æ–‡ä»¶ç”Ÿæˆé€»è¾‘ï¼šæˆ‘ä»¬åœ¨ vue.config.js ä¸­é€šè¿‡ Node.js çš„ fs æ¨¡å—åŠ¨æ€åˆ›å»ºæˆ–æ›´æ–° public/version.json æ–‡ä»¶ã€‚</li>\n<li>æ–‡ä»¶å­˜æ”¾ä½ç½®ï¼šç”Ÿæˆçš„ version.json ä¼šè¢«æ”¾ç½®åœ¨ public ç›®å½•ä¸‹ï¼Œå› æ­¤ä¼šè¢« Vue CLI çš„æ„å»ºå·¥å…·ç›´æ¥æ‹·è´åˆ°æ‰“åŒ…åçš„ dist æ–‡ä»¶å¤¹ä¸­ã€‚</li>\n</ul>\n<h2 id=\"æ³¨æ„äº‹é¡¹\">æ³¨æ„äº‹é¡¹<a title=\"#æ³¨æ„äº‹é¡¹\" href=\"#æ³¨æ„äº‹é¡¹\"></a></h2>\n<ul>\n<li>è·¯å¾„ï¼špublic/version.json çš„è·¯å¾„å¿…é¡»æ˜¯ publicï¼Œå› ä¸º Vue CLI ä¼šå°† public ç›®å½•å†…å®¹ç›´æ¥æ‹·è´åˆ° dist ä¸­ã€‚</li>\n<li>æƒé™ï¼šç¡®ä¿è¿è¡Œæ‰“åŒ…å‘½ä»¤çš„ç”¨æˆ·æœ‰æƒé™å†™å…¥æ–‡ä»¶ã€‚</li>\n<li>åˆ·æ–°ç­–ç•¥ï¼šå‰ç«¯è½®è¯¢é€»è¾‘éœ€è¦ä¿æŒç¨³å®šï¼Œé¿å…å› è¯·æ±‚å¤±è´¥å¯¼è‡´æç¤ºå¼‚å¸¸ã€‚</li>\n</ul>\n<p><code> 2024å¹´12æœˆ22æ—¥æ›´</code></p>\n<p><code> ===============================================================================================</code></p>\n","next":{"title":"LsyğŸ’—ğŸ’—ğŸ’—","link":"post/lovelsy"},"plink":"https://jinx66.gitee.io/post/chrome/","toc":[{"id":"chrome-devtools-çš„ç”¨å¤„","title":"Chrome Devtools çš„ç”¨å¤„","index":"1"},{"id":"èœå•é¢æ¿æ‹†è§£","title":"èœå•é¢æ¿æ‹†è§£","index":"2"},{"id":"ä½¿ç”¨æŠ€å·§","title":"ä½¿ç”¨æŠ€å·§","index":"3"},{"id":"èµ·å› ","title":"èµ·å› ","index":"4"},{"id":"é…ç½®æ–‡ä»¶","title":"é…ç½®æ–‡ä»¶","index":"5"},{"id":"æ‰“å°ç»“æœ","title":"æ‰“å°ç»“æœ","index":"6"},{"id":"åœ¨ç”¨æˆ·æµè§ˆé¡µé¢æ—¶æ£€æµ‹åˆ°é¡µé¢å·²ç»æœ‰æ–°çš„ç‰ˆæœ¬ï¼Œå¹¶æç¤ºç”¨æˆ·åˆ·æ–°è·å–æœ€æ–°é¡µé¢","title":"åœ¨ç”¨æˆ·æµè§ˆé¡µé¢æ—¶æ£€æµ‹åˆ°é¡µé¢å·²ç»æœ‰æ–°çš„ç‰ˆæœ¬ï¼Œå¹¶æç¤ºç”¨æˆ·åˆ·æ–°è·å–æœ€æ–°é¡µé¢","index":"7"},{"id":"ä¼˜åŠ¿","title":"ä¼˜åŠ¿","index":"8"},{"id":"é€‚ç”¨åœºæ™¯","title":"é€‚ç”¨åœºæ™¯","index":"9"},{"id":"å·¥ä½œåŸç†","title":"å·¥ä½œåŸç†","index":"10"},{"id":"æ³¨æ„äº‹é¡¹","title":"æ³¨æ„äº‹é¡¹","index":"11"}],"reward":true,"copyright":{"author":"Jinx66","link":"<a href=\"https://jinx66.gitee.io/post/chrome/\" title=\"Chrome Devtools æ—¥å¸¸ä½¿ç”¨\">https://jinx66.gitee.io/post/chrome/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International<br>(<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)","published":"2024å¹´12æœˆ22æ—¥","updated":"2024å¹´12æœˆ22æ—¥"},"reading_time":"1820 å­—çº¦ 12 åˆ†é’Ÿ"}